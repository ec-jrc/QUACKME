import { catchError } from 'rxjs/operators';
var MAX_NUMBER_OF_RETRY_ATTEMPTS = 10;
export function defaultEffectsErrorHandler(observable$, errorHandler, retryAttemptLeft) {
    if (retryAttemptLeft === void 0) { retryAttemptLeft = MAX_NUMBER_OF_RETRY_ATTEMPTS; }
    return observable$.pipe(catchError(function (error) {
        if (errorHandler)
            errorHandler.handleError(error);
        if (retryAttemptLeft <= 1) {
            return observable$; // last attempt
        }
        // Return observable that produces this particular effect
        return defaultEffectsErrorHandler(observable$, errorHandler, retryAttemptLeft - 1);
    }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWZmZWN0c19lcnJvcl9oYW5kbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbW9kdWxlcy9lZmZlY3RzL3NyYy9lZmZlY3RzX2Vycm9yX2hhbmRsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBTzVDLElBQU0sNEJBQTRCLEdBQUcsRUFBRSxDQUFDO0FBRXhDLE1BQU0sVUFBVSwwQkFBMEIsQ0FDeEMsV0FBMEIsRUFDMUIsWUFBMEIsRUFDMUIsZ0JBQXVEO0lBQXZELGlDQUFBLEVBQUEsK0NBQXVEO0lBRXZELE9BQU8sV0FBVyxDQUFDLElBQUksQ0FDckIsVUFBVSxDQUFDLFVBQUEsS0FBSztRQUNkLElBQUksWUFBWTtZQUFFLFlBQVksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEQsSUFBSSxnQkFBZ0IsSUFBSSxDQUFDLEVBQUU7WUFDekIsT0FBTyxXQUFXLENBQUMsQ0FBQyxlQUFlO1NBQ3BDO1FBQ0QseURBQXlEO1FBQ3pELE9BQU8sMEJBQTBCLENBQy9CLFdBQVcsRUFDWCxZQUFZLEVBQ1osZ0JBQWdCLEdBQUcsQ0FBQyxDQUNyQixDQUFDO0lBQ0osQ0FBQyxDQUFDLENBQ0gsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFcnJvckhhbmRsZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmV4cG9ydCB0eXBlIEVmZmVjdHNFcnJvckhhbmRsZXIgPSA8VCBleHRlbmRzIEFjdGlvbj4oXG4gIG9ic2VydmFibGUkOiBPYnNlcnZhYmxlPFQ+LFxuICBlcnJvckhhbmRsZXI6IEVycm9ySGFuZGxlclxuKSA9PiBPYnNlcnZhYmxlPFQ+O1xuXG5jb25zdCBNQVhfTlVNQkVSX09GX1JFVFJZX0FUVEVNUFRTID0gMTA7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0RWZmZWN0c0Vycm9ySGFuZGxlcjxUIGV4dGVuZHMgQWN0aW9uPihcbiAgb2JzZXJ2YWJsZSQ6IE9ic2VydmFibGU8VD4sXG4gIGVycm9ySGFuZGxlcjogRXJyb3JIYW5kbGVyLFxuICByZXRyeUF0dGVtcHRMZWZ0OiBudW1iZXIgPSBNQVhfTlVNQkVSX09GX1JFVFJZX0FUVEVNUFRTXG4pOiBPYnNlcnZhYmxlPFQ+IHtcbiAgcmV0dXJuIG9ic2VydmFibGUkLnBpcGUoXG4gICAgY2F0Y2hFcnJvcihlcnJvciA9PiB7XG4gICAgICBpZiAoZXJyb3JIYW5kbGVyKSBlcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgaWYgKHJldHJ5QXR0ZW1wdExlZnQgPD0gMSkge1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZSQ7IC8vIGxhc3QgYXR0ZW1wdFxuICAgICAgfVxuICAgICAgLy8gUmV0dXJuIG9ic2VydmFibGUgdGhhdCBwcm9kdWNlcyB0aGlzIHBhcnRpY3VsYXIgZWZmZWN0XG4gICAgICByZXR1cm4gZGVmYXVsdEVmZmVjdHNFcnJvckhhbmRsZXIoXG4gICAgICAgIG9ic2VydmFibGUkLFxuICAgICAgICBlcnJvckhhbmRsZXIsXG4gICAgICAgIHJldHJ5QXR0ZW1wdExlZnQgLSAxXG4gICAgICApO1xuICAgIH0pXG4gICk7XG59XG4iXX0=